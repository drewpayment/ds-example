<ds-card [collapse]="true">
    <div ds-card-header>
        <ds-card-section-title>
            Client Access
        </ds-card-section-title>
    </div>
    <div ds-card-content>
        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label>Client</label>
                    <select class="form-control" [(ngModel)]="selectedClient" name="client" (ngModelChange)="clientSelected()">
                        <option *ngFor="let client of clients" [ngValue]="client">{{client.clientCode }} - {{ client.clientName }} {{ client.clientStatusCode }}</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12" *ngFor="let rule of clientClaims">
                <ds-card mode="callout" [color]="'success'" color-fade>
                    <div ds-card-icon>
                        {{ rule.iconName }}
                    </div>
                    <div ds-card-header>
                        <ds-card-inline-content>
                            <div class="text-color-fade">
                                {{ rule.sourceName }}
                            </div>
                            <div class="ds-card-title-callout">
                                {{ rule.raw.name }}
                            </div>
                        </ds-card-inline-content>
                        <ds-card-title-action>
                            <button class="btn btn-icon">
                                <i class="material-icons">more_vert</i>
                            </button>
                        </ds-card-title-action>
                    </div>
                </ds-card>
            </div>
        </div>
    </div>
</ds-card>

<ds-card [collapse]="true">
    <div ds-card-header>
        <ds-card-section-title>
            User Access
        </ds-card-section-title>
    </div>
    <div ds-card-content>
        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label>User</label>
                    <select class="form-control" [(ngModel)]="selectedUser" name="user" (ngModelChange)="userSelected()">
                        <option *ngFor="let user of users" [ngValue]="user">{{ user.lastName }}, {{ user.firstName }}</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            {{ userAccessInfo | json }}
        </div>
    </div>
</ds-card>

<ds-card [collapse]="true">
    <div ds-card-header>
        <ds-card-section-title>
            Access Rules
        </ds-card-section-title>
    </div>
    <div ds-card-content>
        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label>Search</label>
                    <input type="text" class="form-control" [(ngModel)]="searchText" name="search" (ngModelChange)="filterRules()" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12" *ngFor="let rule of filteredClaims">                
                <ds-card mode="callout" [color]="'success'" color-fade>
                    <div ds-card-icon>
                        {{ rule.iconName }}
                    </div>
                    <div ds-card-header>
                        <ds-card-inline-content>
                            <div class="text-color-fade">
                                {{ rule.sourceName }}
                            </div>
                            <div class="ds-card-title-callout">
                                {{ rule.raw.name }}
                            </div>
                        </ds-card-inline-content>
                        <ds-card-title-action>
                            <button class="btn btn-icon">
                                <i class="material-icons">more_vert</i>
                            </button>
                        </ds-card-title-action>
                    </div>
                </ds-card>
            </div>
        </div>
    </div>
</ds-card>
